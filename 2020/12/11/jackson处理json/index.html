<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="/imgs/favicon.ico" type="image/x-icon" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="author" content="阿超">
  
  <meta name="description" content="​ 我的名字叫阿超 年龄23岁 家在四川省成都市 未婚 职业是软件开发 每天最晚也会在八点前回家 不抽烟 酒浅尝辄止 晚上十二点上床 保证睡足八个小时 睡前写一篇博客 再做二十分钟俯卧撑暖身 然后再睡觉 基本能熟睡到天亮 像婴儿一样不留下任何疲劳和压力 就这样迎来第二天的早晨 健康检查结果也显示我很正常 我想说明我是一个不论何时都追求内心平稳的人 不拘泥于胜负 不纠结于烦恼 不树立使我夜不能寐的敌人 这就是我在这社会的生活态度">
  
  
  
  
  
  
  <title>jackson处理json | 阿超</title>
  <link href="https://VampireAchao.gitee.io" rel="prefetch" />

  
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/aos.css">
<link rel="stylesheet" href="/css/style.css">

  
<script src="/js/jquery.min.js"></script>

  
<script src="/js/bootstrap.min.js"></script>

  
<script src="/js/aos.js"></script>

  
<script src="/js/highslide/highslide-full.min.js"></script>

  
<link rel="stylesheet" href="/js/highslide/highslide.css">

  <style type="text/css">
    @media (max-width: 768px) {
      body {
        background-color: #f0f0f0;
        background: url('/imgs/xsbg.jpg');
        background-attachment: fixed;
      }
      .live2d-widget-container{
        zoom: 0.5;
      }
      .live2d-achao{
        width: 150px !important;
      }
    }
  </style>
  
  <!--<script type="text/javascript">
      if (document.images) {
        var avatar = new Image();
        avatar.src = '/imgs/head.png'
        var previews = 't01d54a78939622a708.jpg,t01b5b4a7529cad373b.jpg,t01260c377a60ef55b8.jpg,t01b32959885c781013.jpg,t01c37e049c18d00e4c.jpg,t01e75d2d4734b2c35e.jpg,t013698845e810692d8.jpg,t012ec64f1e1eb1d23f.jpg,t012db749fb526b27cf.jpg,t01a2e705e6e2514c91.jpg,t0106a9c2522bdd29f7.jpg,t0192efea6a01252f4e.jpg,t01794a9e0bc4321c3c.jpg,t01d2ed30550310750e.jpg,t01a98dd6f6ea17e633.jpg,t0198fd348e2ec8b737.jpg,t0177a850faae7b42f4.jpg,t0106a5ab61a284dcb0.jpg,t01e87ea37c4903393c.jpg,t01fbcc933afdb7affd.jpg,t017299242a9d351de9.jpg,t01fd0d30d46b598a1d.jpg,t019ddfb8b5b89b8475.jpg,t019622fab8982a72ec.jpg,t01bb96bd256aaad950.jpg,t01ba97d26345750c04.jpg,t01bf50d8d5d76238c6.jpg,t01cb6096bf8cb0a285.jpg,t01c4e6c901e3efda72.jpg,t01b58ac4d441d1b546.jpg,t01f3c58eaac22c8544.jpg,t01a58e209bfdbf852b.jpg,t016ff89e6fa6041712.jpg,t0195d14f593431562a.jpg,t01c6d95214927e61c0.jpg,t019c86a25782a7044d.jpg,t014a0ca534d64adbba.jpg,t01b24e85dc07d47b0d.jpg,de1934eb4ac9abdb5e8391c829f94671.jpg'.split(',')
        var previewsPreLoad = []
        for(var i = 0; i < length; i++) {
          previewsPreLoad.push(new Image())
          previewsPreLoad[previewsPreLoad.length - 1].src = '/imgs/preview' + previews[i]
        }
      }
    </script>-->
  <script type="text/javascript">
    // 使用message对象封装消息
    var message = {
      time: 0,
      title: document.title,
      timer: null,
      // 显示新消息提示
      show: function () {
        var title = message.title.replace("【　　　】", "").replace("【新消息】", "");
        // 定时器，设置消息切换频率闪烁效果就此产生
        message.timer = setTimeout(function () {
          message.time++;
          message.show();
          if (message.time % 2 == 0) {
            document.title = "【新消息】" + title
          } else {
            document.title = "【　　　】" + title
          };
        }, 600);
        return [message.timer, message.title];
      },
      // 取消新消息提示
      clear: function () {
        clearTimeout(message.timer);
        document.title = message.title;
      }
    };
    var hiddenProperty = 'hidden' in document ? 'hidden' :
      'webkitHidden' in document ? 'webkitHidden' :
        'mozHidden' in document ? 'mozHidden' : null;
    var title = document.querySelector('title');
    var visibilityChangeEvent = hiddenProperty.replace(/hidden/i, 'visibilitychange');
    var onVisibilityChange = function () {
      if (!document[hiddenProperty]) {
        message.clear()
      } else {
        message.show()
      }
    }
    document.addEventListener(visibilityChangeEvent, onVisibilityChange);


    //随机字
    $(function () {
      var a_idx = 0,
        b_idx = 0;
      c_idx = 0;
      jQuery(document).ready(function ($) {
        $("body").click(function (e) {
          var a = new Array("Daphne", "Ficus", "Iris", "Maackia", "Lythrum", "Myrica", "Sabia", "Flos", "あなたのことが好きです", "嬉しい", "頑張って！", "大丈夫です"),
            b = new Array("#09ebfc", "#ff6651", "#ffb351", "#51ff65", "#5197ff", "#a551ff", "#ff51f7", "#ff518e", "#ff5163", "#efff51"),
            c = new Array("12", "14", "16", "18", "20", "22", "24", "26", "28", "30");
          var $i = $("<span/>").text(a[a_idx]);
          a_idx = (a_idx + 1) % a.length;
          b_idx = (b_idx + 1) % b.length;
          c_idx = (c_idx + 1) % c.length;
          var x = e.pageX,
            y = e.pageY;
          $i.css({
            "z-index": 999,
            "top": y - 20,
            "left": x,
            "position": "absolute",
            "font-weight": "bold",
            "font-size": c[c_idx] + "px",
            "cursor": "url(/imgs/mouse1.cur),url(/imgs/mouse1.cur),auto",
            "color": b[b_idx]
          });
          $("body").append($i);
          $i.animate({
            "top": y - 180,
            "opacity": 0
          }, 1500, function () {
            $i.remove();
          });
        });
      });
      var _hmt = _hmt || [];
    })
  </script>
  <!-- 引用看板娘交互所需的样式表 -->
  <link href='https://VampireAchao.github.io/Pio/static/pio.css' rel='stylesheet' type='text/css'/>
  <!-- 引用 Live2D 核心组件 -->
  <script src='https://VampireAchao.github.io/Pio/static/l2d.js'></script>
  <!-- 引用看板娘交互组件 -->
  <script src='https://VampireAchao.github.io/Pio/static/pio.js'></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
    <!-- 背景轮播图功能 -->
    <section class="hidden-xs">
    <ul class="cb-slideshow">
        <li><span>阿巴</span></li>
        <li><span>阿巴</span></li>
        <li><span>阿巴</span></li>
        <li><span>阿巴</span></li>
        <li><span>阿巴</span></li>
        <li><span>阿巴</span></li>
    </ul>
</section>
    <!-- 欧尼酱功能, 谁用谁知道 -->
    
    <header class="navbar navbar-inverse" id="gal-header">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".bs-navbar-collapse"
                    aria-expanded="false">
                <span class="fa fa-lg fa-reorder"></span>
            </button>
            <a href="https://VampireAchao.gitee.io">
                
                    <style>
                        #gal-header .navbar-brand {
                            height: 54px;
                            line-height: 24px;
                            font-size: 28px;
                            opacity: 1;
                            background-color: rgba(0, 0, 0, 0);
                            text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #228DFF, 0 0 35px #228DFF, 0 0 40px #228DFF, 0 0 50px #228DFF, 0 0 75px #228DFF;
                        }
                    </style>
                    <!-- 这里使用文字(navbar_text or config.title) -->
                    <div class="navbar-brand">阿超</div>
                
            </a>
        </div>
        <div class="collapse navbar-collapse bs-navbar-collapse">
            <ul class="nav navbar-nav" id="menu-gal">
                
                    
                        <li class="">
                            <a href="/">
                                <i class="fa fa-home"></i>首页
                            </a>
                        </li>
                    
                
                    
                        <li class="">
                            <a href="/archives">
                                <i class="fa fa-archive"></i>文章
                            </a>
                        </li>
                    
                
                    
                        
                            <li class="">
                                <a href="/categories">
                                    <i class="fa fa-list"></i>分类
                                </a>
                            </li>
                        
                    
                
                    
                        
                            <li class="dropdown">
                                <!-- TODO 添加hover dropdown效果 -->
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                                   aria-haspopup="true" aria-expanded="false" data-hover="dropdown">
                                    <i class="fa fa-tags"></i>标签
                                </a>
                                <ul class="dropdown-menu">
                                    
                                        
                                            <li>
                                                <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E6%8F%92%E4%BB%B6/">软件及插件</a>
                                            </li>
                                        
                                            <li>
                                                <a href="/tags/java/">java</a>
                                            </li>
                                        
                                            <li>
                                                <a href="/tags/ai/">ai</a>
                                            </li>
                                        
                                        
                                            <li>
                                                <a href="/tags">...</a>
                                            </li>
                                        
                                    
                                </ul>
                            </li>
                        
                    
                
                    
                        <li class="">
                            <a href="/2020/06/02/%E6%88%91%E7%9A%84%E5%9B%9E%E5%BF%86/">
                                <i class="fa fa-user"></i>关于我
                            </a>
                        </li>
                    
                
				<li>
				    <a href="javascript:themeDbChange();">开关主题</a>
				</li>
            </ul>
        </div>
    </div>

    <div class="pio-container right">
        <div class="pio-action"></div>
        <canvas id="pio" width="180" height="280"></canvas>
    </div>
    <!-- Live2DCubismCore script -->
    <script src="https://VampireAchao.github.io/js/live2dcubismcore.js"></script>
    <!-- Build script -->
    <script src="https://VampireAchao.github.io/js/bundle.js"></script>
    <canvas id="live2d" width="300" height="300" class="live2d live2d-achao"
            style="position: fixed; opacity: 1; left: -45px;bottom: 0; z-index: 99999; pointer-events: none;"></canvas>
    <script>
        var pio = new Paul_Pio({
            "mode": "fixed",
            "hidden": false,
            "content": {
                "welcome": ["欢迎来到阿超的博客~", "欧尼酱！"],
                "touch": ["今天也是元气满满的一天！", "欧尼酱！", "哈哈哈哈，不要戳了"],
                "skin": ["想看看我的新服装吗？", "新衣服真漂亮~"],
                "home": "点击这里回到首页！",
                "link": "https://VampireAchao.github.io/2020/06/02/%E6%88%91%E7%9A%84%E5%9B%9E%E5%BF%86/",
                "close": "QWQ 有缘再会吧~",
                // "referer": "你通过 %t 来到了这里",
                "custom": [
                    {
                        "selector": ".comment-form",
                        "text": ["欢迎参与本文评论，别发小广告噢~", "快来参加本文的评论吧~"]
                    }
                ]
            },
            "model": ["https://VampireAchao.github.io/Pio/models/umaru/model.json"]
        });
        var resourcesPath = '/'; // 指定资源文件（模型）保存的路径
        var backImageName = ''; // 指定背景图片
        var modelDir = ['supa']; // 指定需要加载的模型
        initDefine(resourcesPath, backImageName, modelDir); // 初始化模型
        // window.localStorage.clear();    // 清理localStorage
    </script>
	<script>
	function themeDbChange(){
		let hideTheme = localStorage.getItem("hideTheme")
		if(hideTheme != 'hideTheme'){

			localStorage.setItem("hideTheme","hideTheme")
		}else{
			localStorage.setItem("hideTheme","disHideTheme")

		}
		themeChange()
	}

	function themeChange(){
		let themeClass = [".cb-slideshow",".alert-gal",".pio-container",".live2d-widget-container",".live2d-achao"]
		let themes = themeClass.map(c=>$(c))

		let hideTheme = localStorage.getItem("hideTheme")
		console.log({hideTheme})
		if(hideTheme == 'hideTheme'){

			themes.forEach(t=>t.hide())
			$("head").children("link[href='/css/style.css']").attr('disabled', 'disabled')
		}else{
			themes.forEach(t=>t.show())
			$("head").children("link[href='/css/style.css']").removeAttr('disabled')
		}
	}
	$(themeChange)
	</script>
</header>

    <div id="gal-body">
        <div class="container">
            <div class="row">
                <div class="col-md-8 gal-right" id="mainstay">
                    
<article class="article well article-body" id="article">
    <div class="breadcrumb">
        <i class="fa fa-home"></i>
        <a href="https://VampireAchao.gitee.io">阿超</a>
        >
        <span>jackson处理json</span>
    </div>
    <!-- 大型设备详细文章 -->
    <div class="hidden-xs">
        <div class="title-article">
            <h1>
                <a href="/2020/12/11/jackson%E5%A4%84%E7%90%86json/">jackson处理json</a>
            </h1>
        </div>
        <div class="tag-article">
            
            <span class="label label-gal">
                <i class="fa fa-tags"></i>
                
                <a href="/tags/java/">java</a>
                
            </span>
            
            <span class="label label-gal">
                <i class="fa fa-calendar"></i> 2020-12-11
            </span>
            
        </div>
    </div>
    <!-- 小型设备详细文章 -->
    <div class="visible-xs">
        <center>
            <div class="title-article">
                <h4>
                    <a href="/2020/12/11/jackson%E5%A4%84%E7%90%86json/">jackson处理json</a>
                </h4>
            </div>
            <p>
                <i class="fa fa-calendar"></i> 2020-12-11
            </p>
            <p>
                
                <i class="fa fa-tags"></i>
                
                <a href="/tags/java/">java</a>
                
                
                
            </p>
        </center>
    </div>
    <div class="content-article">
        <blockquote>
<p>君子成人之美，不成人之恶。小人反是。——《论语》</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/psh18513234633/article/details/88599509">转载，原文</a></p>
<h2 id="介绍"><a class="markdownIt-Anchor" href="#介绍"></a> 介绍</h2>
<p><strong>Jackson 的核心模块由三部分组成</strong></p>
<ol>
<li>jackson-core，核心包，提供基于&quot;流模式&quot;解析的相关 API，它包括 JsonPaser 和 JsonGenerator。 Jackson 内部实现正是通过高性能的流模式 API 的 JsonGenerator 和 JsonParser 来生成和解析 json。</li>
<li>jackson-annotations，注解包，提供标准注解功能。</li>
<li>jackson-databind ，数据绑定包， 提供基于&quot;对象绑定&quot; 解析的相关 API （ ObjectMapper ） 和&quot;树模型&quot; 解析的相关 API （JsonNode）；基于&quot;对象绑定&quot; 解析的 API 和&quot;树模型&quot;解析的 API 依赖基于&quot;流模式&quot;解析的 API。</li>
</ol>
<h2 id="用法"><a class="markdownIt-Anchor" href="#用法"></a> 用法</h2>
<p>引入依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&lt;dependency&gt;<br>    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;<br>    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;<br>    &lt;version&gt;2.9.5&lt;/version&gt;<br>&lt;/dependency&gt;<br>12345<br></code></pre></td></tr></table></figure>
<p>jackson-databind 依赖 jackson-core 和 jackson-annotations，当添加 jackson-databind 之后， jackson-core 和 jackson-annotations 也随之添加到 Java 项目工程中。在添加相关依赖包之后，就可以使用 Jackson。</p>
<p>Jackson 最常用的 API 就是基于&quot;对象绑定&quot; 的 ObjectMapper。下面是一个 ObjectMapper 的使用的简单示例。</p>
<p>test</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">@Test<br>public void test() throws IOException &#123;<br>    ObjectMapper mapper = new ObjectMapper();<br>    User user = new User();<br>    <br>    user.set..<br>    <br>    // 序列化 <br>    String jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(user);<br>    <br>    // 反序列化<br>    user = mapper.readValue(jsonString, User.class);<br>&#125;<br>12345678910111213<br></code></pre></td></tr></table></figure>
<p>ObjectMapper 通过 writeValue 系列方法将 java 对象序列化为 json，并将 json 存储成不同的格式：String（writeValueAsString）、Byte Array（writeValueAsBytes）、Writer、File、OutStream、DataOutput。</p>
<p>ObjectMapper 通过 readValue 系列方法从不同的数据源： String、Byte Array、Reader、File、URL、InputStream 中反序列化为 java 对象。</p>
<p>在调用 writeValue 或调用 readValue 方法之前，往往需要设置 ObjectMapper 的相关配置信息。这些配置信息应用 java 对象的所有属性上。示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//在反序列化时忽略在 json 中存在但 Java 对象不存在的属性 <br>mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,<br>   false); <br>//在序列化时日期格式默认为 yyyy-MM-dd&#x27;T&#x27;HH:mm:ss.SSSZ <br>mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,false) <br>//在序列化时忽略值为 null 的属性 <br>mapper.setSerializationInclusion(Include.NON_NULL); <br>//忽略值为默认值的属性 <br>mapper.setDefaultPropertyInclusion(Include.NON_DEFAULT);<br>123456789<br></code></pre></td></tr></table></figure>
<h2 id="常用序列化与反序列化"><a class="markdownIt-Anchor" href="#常用序列化与反序列化"></a> 常用序列化与反序列化</h2>
<h4 id="1-序列化"><a class="markdownIt-Anchor" href="#1-序列化"></a> 1、序列化</h4>
<p>Jackson ObjectMapper提供了三种方法转换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">writeValue()<br>writeValueAsString()<br>writeValueAsBytes()<br>123<br></code></pre></td></tr></table></figure>
<p>writeValue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br><br>Car car = new Car();<br>car.brand = &quot;BMW&quot;;<br>car.doors = 4;<br><br>objectMapper.writeValue(new FileOutputStream(&quot;data/output-2.json&quot;), car);<br>1234567<br></code></pre></td></tr></table></figure>
<p>writeValueAsString</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br><br>Car car = new Car();<br>car.brand = &quot;BMW&quot;;<br>car.doors = 4;<br><br>String json = objectMapper.writeValueAsString(car);<br>1234567<br></code></pre></td></tr></table></figure>
<p>writeValueAsBytes</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br><br>Car car = new Car();<br>car.brand = &quot;BMW&quot;;<br>car.doors = 4;<br><br>byte[] jsonBytes = objectMapper.writeValueAsString(car);<br>1234567<br></code></pre></td></tr></table></figure>
<h4 id="2-时间类型格式化"><a class="markdownIt-Anchor" href="#2-时间类型格式化"></a> 2、时间类型格式化</h4>
<p>Jackson 默认会将<code>java.util.Date</code>对象转换成<code>long</code>值,同时也支持将时间转换成格式化的字符串</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>objectMapper.setDateFormat(dateFormat);<br><br>String json = objectMapper.writeValueAsString(对象);<br>1234<br></code></pre></td></tr></table></figure>
<h4 id="3-反序列化读取方式"><a class="markdownIt-Anchor" href="#3-反序列化读取方式"></a> 3、反序列化读取方式</h4>
<p><strong>从json字符串读取</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br>String carJson = &quot;&#123; \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 &#125;&quot;;<br>Car car = objectMapper.readValue(carJson, Car.class);<br>123<br></code></pre></td></tr></table></figure>
<p><strong>从json Reader读取</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br>String carJson = &quot;&#123; \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 4 &#125;&quot;;<br>Reader reader = new StringReader(carJson);<br>Car car = objectMapper.readValue(reader, Car.class);<br>1234<br></code></pre></td></tr></table></figure>
<p><strong>从json文件读取</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br>File file = new File(&quot;data/car.json&quot;);<br>Car car = objectMapper.readValue(file, Car.class);<br>123<br></code></pre></td></tr></table></figure>
<p><strong>从json网络文件地址读取</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br>URL url = new URL(&quot;file:data/car.json&quot;);<br>Car car = objectMapper.readValue(url, Car.class);<br>123<br></code></pre></td></tr></table></figure>
<p><strong>从流中读取</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br>InputStream input = new FileInputStream(&quot;data/car.json&quot;);<br>Car car = objectMapper.readValue(input, Car.class);<br>123<br></code></pre></td></tr></table></figure>
<p><strong>从json字节数组中读取</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ObjectMapper objectMapper = new ObjectMapper();<br>String carJson = &quot;&#123; \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 &#125;&quot;;<br>byte[] bytes = carJson.getBytes(&quot;UTF-8&quot;);<br>Car car = objectMapper.readValue(bytes, Car.class);<br>1234<br></code></pre></td></tr></table></figure>
<h4 id="4-反序列化不同类型"><a class="markdownIt-Anchor" href="#4-反序列化不同类型"></a> 4、反序列化不同类型</h4>
<p>转换为数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">String jsonArray = &quot;[&#123;\&quot;brand\&quot;:\&quot;ford\&quot;&#125;, &#123;\&quot;brand\&quot;:\&quot;Fiat\&quot;&#125;]&quot;;<br>ObjectMapper objectMapper = new ObjectMapper();<br>Car[] cars = objectMapper.readValue(jsonArray, Car[].class);<br>123<br></code></pre></td></tr></table></figure>
<p>转换为集合</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">String jsonArray = &quot;[&#123;\&quot;brand\&quot;:\&quot;ford\&quot;&#125;, &#123;\&quot;brand\&quot;:\&quot;Fiat\&quot;&#125;]&quot;;<br>ObjectMapper objectMapper = new ObjectMapper();<br>List&lt;Car&gt; cars = objectMapper.readValue(jsonArray, new TypeReference&lt;List&lt;Car&gt;&gt;()&#123;&#125;);<br>123<br></code></pre></td></tr></table></figure>
<p>转换为Map</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">String jsonObject = &quot;&#123;\&quot;brand\&quot;:\&quot;ford\&quot;, \&quot;doors\&quot;:5&#125;&quot;;<br>ObjectMapper objectMapper = new ObjectMapper();<br>Map&lt;String, Object&gt; jsonMap = objectMapper.readValue(jsonObject, new TypeReference&lt;Map&lt;String,Object&gt;&gt;()&#123;&#125;);<br>123<br></code></pre></td></tr></table></figure>
<h4 id="5-json树模型"><a class="markdownIt-Anchor" href="#5-json树模型"></a> 5、JSON树模型</h4>
<p>Jackson 也提供了树模型（tree model）来生成和解析 json。若想修改或访问 json 部分属性，树模型是不错的选择。树模型由 JsonNode 节点组成</p>
<p>example</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">String carJson = &quot;&#123; \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 &#125;&quot;;<br>ObjectMapper objectMapper = new ObjectMapper();<br>try &#123;<br>    JsonNode node = objectMapper.readValue(carJson, JsonNode.class);<br>    <br>    JsonNode brandNode = node.get(&quot;brand&quot;);<br>    String brand = brandNode.asText();<br>    System.out.println(&quot;brand = &quot; + brand);<br><br>    JsonNode doorsNode = node.get(&quot;doors&quot;);<br>    int doors = doorsNode.asInt();<br>    System.out.println(&quot;doors = &quot; + doors);<br><br>    JsonNode array = node.get(&quot;owners&quot;);<br>    JsonNode jsonNode = array.get(0);<br>    String john = jsonNode.asText();<br>    System.out.println(&quot;john  = &quot; + john);<br><br>    JsonNode child = node.get(&quot;nestedObject&quot;);<br>    JsonNode childField = child.get(&quot;field&quot;);<br>    String field = childField.asText();<br>    System.out.println(&quot;field = &quot; + field);<br>&#125; catch (IOException e) &#123;<br>    e.printStackTrace();<br>&#125;<br>12345678910111213141516171819202122232425<br></code></pre></td></tr></table></figure>
<h2 id="jsonparser"><a class="markdownIt-Anchor" href="#jsonparser"></a> JsonParser</h2>
<p>JsonParser 提供很多方法来读取 json 信息， 如 isClosed(), nextToken(), getValueAsString()等。若想单独创建 JsonParser，可以通过 JsonFactory() 的 createParser。</p>
<p>example</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">String carJson = &quot;&#123; \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 &#125;&quot;;<br>JsonFactory factory = new JsonFactory();<br>JsonParser  parser  = factory.createParser(carJson);<br>123<br>String carJson = &quot;&#123; \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 &#125;&quot;;<br><br>JsonFactory factory = new JsonFactory();<br>JsonParser  parser  = factory.createParser(carJson);<br><br>Car car = new Car();<br>while(!parser.isClosed())&#123;<br>    JsonToken jsonToken = parser.nextToken();<br><br>    if(JsonToken.FIELD_NAME.equals(jsonToken))&#123;<br>        String fieldName = parser.getCurrentName();<br>        System.out.println(fieldName);<br><br>        jsonToken = parser.nextToken();<br><br>        if(&quot;brand&quot;.equals(fieldName))&#123;<br>            car.brand = parser.getValueAsString();<br>        &#125; else if (&quot;doors&quot;.equals(fieldName))&#123;<br>            car.doors = parser.getValueAsInt();<br>        &#125;<br>    &#125;<br>&#125;<br><br>System.out.println(&quot;car.brand = &quot; + car.brand);<br>System.out.println(&quot;car.doors = &quot; + car.doors);<br>12345678910111213141516171819202122232425<br></code></pre></td></tr></table></figure>
<h2 id="jsongenerator"><a class="markdownIt-Anchor" href="#jsongenerator"></a> JsonGenerator</h2>
<p>JsonGenerator 有多种 write 方法以支持生成复杂的类型的 json，比如 writeArray，writeTree 等 。若想单独创建 JsonGenerator，可以通过 JsonFactory() 的 createGenerator。</p>
<p>example</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">JsonFactory factory = new JsonFactory();<br><br>JsonGenerator generator = factory.createGenerator(new File(&quot;data/output.json&quot;), JsonEncoding.UTF8);<br>123<br>JsonFactory factory = new JsonFactory();<br><br>JsonGenerator generator = factory.createGenerator(new File(&quot;data/output.json&quot;), JsonEncoding.UTF8);<br><br>generator.writeStartObject();<br>generator.writeStringField(&quot;brand&quot;, &quot;Mercedes&quot;);<br>generator.writeNumberField(&quot;doors&quot;, 5);<br>generator.writeEndObject();<br><br>generator.close();<br>12345678910<br></code></pre></td></tr></table></figure>
<p>也可以通过<code>Reader</code>, <code>InputStream</code>, <code>URL</code>, <code>byte array</code> 或 <code>char array</code>来创建JsonParser</p>
<h2 id="配置相关属性"><a class="markdownIt-Anchor" href="#配置相关属性"></a> 配置相关属性</h2>
<p><strong>SerializationFeature（序列化相关属性）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">public enum SerializationFeature implements ConfigFeature &#123;<br>    /*<br>    /******************************************************<br>    /* 通用输出特性<br>    /******************************************************<br>     */<br><br>    /**<br>     * 是否以类名作为根元素，可以通过@JsonRootName来自定义根元素名称,默认false<br>     */<br>    WRAP_ROOT_VALUE(false),<br><br>    /**<br>     * 是否缩放排列输出,默认false，会增加json大小<br>     */<br>    INDENT_OUTPUT(false),<br><br>    /*<br>    /******************************************************<br>    /* 关于异常特性<br>    /******************************************************<br>     */<br><br>    /**<br>     * 遇到空对象则失败 如果实体没有get方法，会报异常<br>     */<br>    FAIL_ON_EMPTY_BEANS(true),<br><br>    /**<br>     * 自我引用则失败<br>     */<br>    FAIL_ON_SELF_REFERENCES(true),<br><br>    /**<br>     * 封装所有异常<br>     */<br>    WRAP_EXCEPTIONS(true),<br>    FAIL_ON_UNWRAPPED_TYPE_IDENTIFIERS(true),<br><br>    /*<br>    /******************************************************<br>    /* 输出的声明周期<br>    /******************************************************<br>     */<br><br>    /**<br>     * 该特性决定序列化root级对象的实现closeable接口的close方法是否在序列化后被调用。<br>     * 注意：如果true，则完成序列化后就关闭；如果，你可以在处理最后，调用排序操作等，则为false。<br>     */<br>    CLOSE_CLOSEABLE(false),<br><br>    /**<br>     * 该特性决定是否在writeValue()方法之后就调用JsonGenerator.flush()方法。<br>     * 当我们需要先压缩，然后再flush，则可能需要false。<br>     */<br>    FLUSH_AFTER_WRITE_VALUE(true),<br><br>    /*<br>    /******************************************************<br>    /* 数据类型特定序列化配置<br>    /******************************************************<br>     */<br><br>    /**<br>     * 序列化Date日期时以timestamps输出，默认true<br>     */<br>    WRITE_DATES_AS_TIMESTAMPS(true),<br><br>    /**<br>     * 是否将Map中得key为Date的值，也序列化为timestamps形式（否则，会被序列化为文本形式的值）。<br>     */<br>    WRITE_DATE_KEYS_AS_TIMESTAMPS(false),<br>    WRITE_DATES_WITH_ZONE_ID(false),<br>    WRITE_DURATIONS_AS_TIMESTAMPS(true),<br><br>    /**<br>     * 序列化char[]时以json数组输出，默认false<br>     */<br>    WRITE_CHAR_ARRAYS_AS_JSON_ARRAYS(false),<br><br>    /**<br>     * 序列化枚举是否以toString()来输出，默认false，即默认以name()来输出<br>     */<br>    WRITE_ENUMS_USING_TO_STRING(false),<br><br>    /**<br>     * 序列化枚举是以ordinal()来输出，默认false<br>     */<br>    WRITE_ENUMS_USING_INDEX(false),<br><br>    /**<br>     * 序列化单元素数组时不以数组来输出，默认false<br>     */<br>    WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED(false),<br><br>    /**<br>     * 该特性决定是否将基于Date的值序列化为纳秒级别<br>     */<br>    WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS(true),<br><br>    /**<br>     * 序列化Map时对key进行排序操作，默认false<br>     */<br>    ORDER_MAP_ENTRIES_BY_KEYS(false),<br><br>    /*<br>    /******************************************************<br>    /* 其他特性<br>    /******************************************************<br>     */<br><br>    EAGER_SERIALIZER_FETCH(true),<br><br>    USE_EQUALITY_FOR_OBJECT_ID(false);<br><br>    private final boolean _defaultState;<br>    private final int _mask;<br><br>    private config(boolean defaultState) &#123;<br>        _defaultState = defaultState;<br>        _mask = (1 &lt;&lt; ordinal());<br>    &#125;<br><br>    @Override<br>    public boolean enabledByDefault() &#123;<br>        return _defaultState;<br>    &#125;<br><br><br>    @Override<br>    public int getMask() &#123;<br>        return _mask;<br>    &#125;<br><br>    @Override<br>    public boolean enabledIn(int flags) &#123;<br>        return (flags &amp; _mask) != 0;<br>    &#125;<br>&#125;<br>123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139<br></code></pre></td></tr></table></figure>
<p><strong>DeserializationFeature（反序列化相关属性）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">public enum DeserializationFeature implements ConfigFeature &#123;<br>   /*<br>    /******************************************************<br>    /* 值转换特性<br>     */<br>    /******************************************************<br>     */<br><br>    /**<br>     * 该特性决定对于json浮点数，是否使用BigDecimal来反序列化。如果不允许，则使用Double序列化。 默认为false<br>     */<br>    USE_BIG_DECIMAL_FOR_FLOATS(false),<br><br>    /**<br>     * 该特性决定对于json整型，是否使用BigInteger来反序列化。如果不允许，将根据数字的长度转换为Integer、Long、BigInteger。 默认为false<br>     */<br>    USE_BIG_INTEGER_FOR_INTS(false),<br><br>    /**<br>     * 该特性决定对于json整型，是否使用Long来反序列化。如果不允许，将根据数字的长度转换为Integer等短整型。 默认为false<br>     * 如果USE_BIG_INTEGER_FOR_INTS是开启的，将优先使用USE_BIG_INTEGER_FOR_INTS<br>     */<br>    USE_LONG_FOR_INTS(false),<br><br>    /**<br>     * 该特性决定对于json数组，是否使用Object[]来反序列化。如果不允许，将根据数字的长度转换为List&lt;Object&gt;。 默认为false<br>     */<br>    USE_JAVA_ARRAY_FOR_JSON_ARRAY(false),<br><br>    /*<br>    /******************************************************<br>    /* 异常捕获特性<br>    /******************************************************<br>     */<br><br>    /**<br>     * 反序列化时,遇到未知属性(那些没有对应的属性来映射的属性,并且没有任何setter或handler来处理这样的属性)时是否引起结果失败。默认为true<br>     */<br>    FAIL_ON_UNKNOWN_PROPERTIES(true),<br><br>    /**<br>     * 反序列化时,遇到null属性映射在java基本数据类型（int或douuble）是否报异常。默认为false<br>     */<br>    FAIL_ON_NULL_FOR_PRIMITIVES(false),<br><br>    /**<br>     * 反序列化时,遇到integer numbers属性映射在enum类型时，如果为true,numbers将不可以映射到enum中。默认为false<br>     */<br>    FAIL_ON_NUMBERS_FOR_ENUMS(false),<br><br>    /**<br>     * 反序列化时，遇到类名错误或者map中id找不到时是否报异常。默认为true<br>     */<br>    FAIL_ON_INVALID_SUBTYPE(true),<br><br>    /**<br>     * 反序列化时，遇到json数据存在两个相同的key时是否报异常。默认为false<br>     */<br>    FAIL_ON_READING_DUP_TREE_KEY(false),<br><br>    /**<br>     * 反序列化时，遇到json属性字段为可忽略的是否报异常。默认为false<br>     */<br>    FAIL_ON_IGNORED_PROPERTIES(false),<br><br>    /**<br>     * Feature that determines what happens if an Object Id reference is encountered<br>     * that does not refer to an actual Object with that id (&quot;unresolved Object Id&quot;):<br>     * either an exception is thrown (&lt;code&gt;true&lt;/code&gt;), or a null object is used<br>     * instead (&lt;code&gt;false&lt;/code&gt;).<br>     * Note that if this is set to &lt;code&gt;false&lt;/code&gt;, no further processing is done;<br>     * specifically, if reference is defined via setter method, that method will NOT<br>     * be called.<br>     * &lt;p&gt;<br>     * Feature is enabled by default, so that unknown Object Ids will result in an<br>     * exception being thrown, at the end of deserialization.<br>     */<br>    FAIL_ON_UNRESOLVED_OBJECT_IDS(true),<br><br>    /**<br>     * Feature that determines what happens if one or more Creator properties (properties<br>     * bound to parameters of Creator method (constructor or static factory method))<br>     * are missing value to bind to from content.<br>     * If enabled, such missing values result in a &#123;@link JsonMappingException&#125; being<br>     * thrown with information on the first one (by index) of missing properties.<br>     * If disabled, and if property is NOT marked as required,<br>     * missing Creator properties are filled<br>     * with &lt;code&gt;null values&lt;/code&gt; provided by deserializer for the type of parameter<br>     * (usually null for Object types, and default value for primitives; but redefinable<br>     * via custom deserializers).<br>     * &lt;p&gt;<br>     * Note that having an injectable value counts as &quot;not missing&quot;.<br>     * &lt;p&gt;<br>     * Feature is disabled by default, so that no exception is thrown for missing creator<br>     * property values, unless they are explicitly marked as `required`.<br>     *<br>     * @since 2.6<br>     */<br>    FAIL_ON_MISSING_CREATOR_PROPERTIES(false),<br><br>    /**<br>     * Feature that determines what happens if one or more Creator properties (properties<br>     * bound to parameters of Creator method (constructor or static factory method))<br>     * are bound to null values - either from the JSON or as a default value. This<br>     * is useful if you want to avoid nulls in your codebase, and particularly useful<br>     * if you are using Java or Scala optionals for non-mandatory fields.<br>     * Feature is disabled by default, so that no exception is thrown for missing creator<br>     * property values, unless they are explicitly marked as `required`.<br>     *<br>     * @since 2.8<br>     */<br>    FAIL_ON_NULL_CREATOR_PROPERTIES(false),<br><br>    /**<br>     * Feature that determines what happens when a property annotated with<br>     * &#123;@link com.fasterxml.jackson.annotation.JsonTypeInfo.As#EXTERNAL_PROPERTY&#125; is missing,<br>     * but associated type id is available. If enabled, &#123;@link JsonMappingException&#125; is always<br>     * thrown when property value is missing (if type id does exist);<br>     * if disabled, exception is only thrown if property is marked as `required`.<br>     * &lt;p&gt;<br>     * Feature is enabled by default, so that exception is thrown when a subtype property is<br>     * missing.<br>     *<br>     * @since 2.9<br>     */<br>    FAIL_ON_MISSING_EXTERNAL_TYPE_ID_PROPERTY(true),<br><br>    /**<br>     * Feature that determines behaviour for data-binding after binding the root value.<br>     * If feature is enabled, one more call to<br>     * &#123;@link com.fasterxml.jackson.core.JsonParser#nextToken&#125; is made to ensure that<br>     * no more tokens are found (and if any is found,<br>     * &#123;@link com.fasterxml.jackson.databind.exc.MismatchedInputException&#125; is thrown); if<br>     * disabled, no further checks are made.<br>     * &lt;p&gt;<br>     * Feature could alternatively be called &lt;code&gt;READ_FULL_STREAM&lt;/code&gt;, since it<br>     * effectively verifies that input stream contains only as much data as is needed<br>     * for binding the full value, and nothing more (except for possible ignorable<br>     * white space or comments, if supported by data format).<br>     * &lt;p&gt;<br>     * Feature is disabled by default (so that no check is made for possible trailing<br>     * token(s)) for backwards compatibility reasons.<br>     *<br>     * @since 2.9<br>     */<br>    FAIL_ON_TRAILING_TOKENS(false),<br><br>    /**<br>     * Feature that determines whether Jackson code should catch<br>     * and wrap &#123;@link Exception&#125;s (but never &#123;@link Error&#125;s!)<br>     * to add additional information about<br>     * location (within input) of problem or not. If enabled,<br>     * most exceptions will be caught and re-thrown (exception<br>     * specifically being that &#123;@link java.io.IOException&#125;s may be passed<br>     * as is, since they are declared as throwable); this can be<br>     * convenient both in that all exceptions will be checked and<br>     * declared, and so there is more contextual information.<br>     * However, sometimes calling application may just want &quot;raw&quot;<br>     * unchecked exceptions passed as is.<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     */<br>    WRAP_EXCEPTIONS(true),<br><br>    /*<br>    /******************************************************<br>    /* 结构转换特性<br>    /******************************************************<br>     */<br><br>    /**<br>     * 反序列化时，是否接受单个value转为List，如json字符串中单个String值 可以转为Bean中的List。默认为false<br>     */<br>    ACCEPT_SINGLE_VALUE_AS_ARRAY(false),<br><br>    /**<br>     * 将json中的数组映射到实体单值中<br>     * 例如 &#123;&quot;aaa&quot;:[&#123;&quot;value&quot;:&quot;wewfewfew&quot;&#125;],&quot;bbb&quot;:[&#123;&quot;value&quot;:&quot;wefwefw&quot;&#125;]&#125;<br>     * 转换为<br>     * public class MyEntity&#123;<br>     * private String aaa;<br>     * private String bbb;<br>     * &#125;<br>     */<br>    UNWRAP_SINGLE_VALUE_ARRAYS(false),<br><br>    /**<br>     * 对于设置了@JsonRootName实体转换的json，可通过该属性进行实体转换<br>     */<br>    UNWRAP_ROOT_VALUE(false),<br><br>    /*<br>    /******************************************************<br>    /* 值转换特性<br>    /******************************************************<br>     */<br><br>    /**<br>     * 反序列化时，是否将空字符传转化为null。默认为false<br>     */<br>    ACCEPT_EMPTY_STRING_AS_NULL_OBJECT(false),<br><br>    /**<br>     * 反序列化时，是否将空数组转换为null。默认为false<br>     */<br>    ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT(false),<br><br>    /**<br>     * 反序列化时，是否可将JSON float值被反序列化为 int 、 long 或 BigInteger。默认为true<br>     */<br>    ACCEPT_FLOAT_AS_INT(true),<br><br>    /**<br>     * Feature that determines standard deserialization mechanism used for<br>     * Enum values: if enabled, Enums are assumed to have been serialized  using<br>     * return value of &lt;code&gt;Enum.toString()&lt;/code&gt;;<br>     * if disabled, return value of &lt;code&gt;Enum.name()&lt;/code&gt; is assumed to have been used.<br>     * &lt;p&gt;<br>     * Note: this feature should usually have same value<br>     * as &#123;@link SerializationFeature#WRITE_ENUMS_USING_TO_STRING&#125;.<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     */<br>    READ_ENUMS_USING_TO_STRING(false),<br><br>    /**<br>     * Feature that allows unknown Enum values to be parsed as null values.<br>     * If disabled, unknown Enum values will throw exceptions.<br>     * &lt;p&gt;<br>     * Note that in some cases this will basically ignore unknown Enum values;<br>     * this is the keys for keys of &#123;@link java.util.EnumMap&#125; and values<br>     * of &#123;@link java.util.EnumSet&#125; (because nulls are not accepted in these<br>     * cases).<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     *<br>     * @since 2.0<br>     */<br>    READ_UNKNOWN_ENUM_VALUES_AS_NULL(false),<br><br>    /**<br>     * Feature that allows unknown Enum values to be ignored and a predefined value specified through<br>     * &#123;@link com.fasterxml.jackson.annotation.JsonEnumDefaultValue @JsonEnumDefaultValue&#125; annotation.<br>     * If disabled, unknown Enum values will throw exceptions.<br>     * If enabled, but no predefined default Enum value is specified, an exception will be thrown as well.<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     *<br>     * @since 2.8<br>     */<br>    READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE(false),<br><br>    /**<br>     * 反序列化时，是否使用long解析时间。默认为true<br>     */<br>    READ_DATE_TIMESTAMPS_AS_NANOSECONDS(true),<br><br>    /**<br>     * Feature that specifies whether context provided &#123;@link java.util.TimeZone&#125;<br>     * (&#123;@link DeserializationContext#getTimeZone()&#125; should be used to adjust Date/Time<br>     * values on deserialization, even if value itself contains timezone information.<br>     * If enabled, contextual &lt;code&gt;TimeZone&lt;/code&gt; will essentially override any other<br>     * TimeZone information; if disabled, it will only be used if value itself does not<br>     * contain any TimeZone information.<br>     * &lt;p&gt;<br>     * Note that exact behavior depends on date/time types in question; and specifically<br>     * JDK type of &#123;@link java.util.Date&#125; does NOT have in-built timezone information<br>     * so this setting has no effect.<br>     * Further, while &#123;@link java.util.Calendar&#125; does have this information basic<br>     * JDK &#123;@link java.text.SimpleDateFormat&#125; is unable to retain parsed zone information,<br>     * and as a result, &#123;@link java.util.Calendar&#125; will always get context timezone<br>     * adjustment regardless of this setting.<br>     * &lt;p&gt;<br>     * &lt;p&gt;<br>     * Taking above into account, this feature is supported only by extension modules for<br>     * Joda and Java 8 date/tyime datatypes.<br>     *<br>     * @since 2.2<br>     */<br>    ADJUST_DATES_TO_CONTEXT_TIME_ZONE(true),<br><br>    /*<br>    /******************************************************<br>    /* Other<br>    /******************************************************<br>     */<br><br>    /**<br>     * Feature that determines whether &#123;@link ObjectReader&#125; should<br>     * try to eagerly fetch necessary &#123;@link JsonDeserializer&#125; when<br>     * possible. This improves performance in cases where similarly<br>     * configured &#123;@link ObjectReader&#125; instance is used multiple<br>     * times; and should not significantly affect single-use cases.<br>     * &lt;p&gt;<br>     * Note that there should not be any need to normally disable this<br>     * feature: only consider that if there are actual perceived problems.<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     *<br>     * @since 2.1<br>     */<br>    EAGER_DESERIALIZER_FETCH(true);<br><br>    private final boolean _defaultState;<br>    private final int _mask;<br><br>    private DeserializationFeature(boolean defaultState) &#123;<br>        _defaultState = defaultState;<br>        _mask = (1 &lt;&lt; ordinal());<br>    &#125;<br><br>    @Override<br>    public boolean enabledByDefault() &#123;<br>        return _defaultState;<br>    &#125;<br><br>    @Override<br>    public int getMask() &#123;<br>        return _mask;<br>    &#125;<br><br>    @Override<br>    public boolean enabledIn(int flags) &#123;<br>        return (flags &amp; _mask) != 0;<br>    &#125;<br>&#125;<br>123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326<br></code></pre></td></tr></table></figure>
<p><strong>MapperFeature</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">public enum MapperFeature implements ConfigFeature &#123;<br>    /*<br>    /******************************************************<br>    /* 通用配置<br>    /******************************************************<br>     */<br><br>    /**<br>     * 是否开启注解<br>     */<br>    USE_ANNOTATIONS(true),<br><br>    /**<br>     * 使用getter方法来作为setter方法（一般只处理集合和Maps，和其他没有setter的类型）。 该属性决定是否不需要setter方法，而只需要getter方法来修改属性。<br>     */<br>    USE_GETTERS_AS_SETTERS(true),<br><br>    /**<br>     * Feature that determines how &lt;code&gt;transient&lt;/code&gt; modifier for fields<br>     * is handled: if disabled, it is only taken to mean exclusion of the field<br>     * as accessor; if true, it is taken to imply removal of the whole property.<br>     * &lt;p&gt;<br>     * Feature is disabled by default, meaning that existence of `transient`<br>     * for a field does not necessarily lead to ignoral of getters or setters<br>     * but just ignoring the use of field for access.<br>     *<br>     * @since 2.6<br>     */<br>    PROPAGATE_TRANSIENT_MARKER(false),<br><br>    /*<br>    /******************************************************<br>    /* Introspection-based property auto-detection<br>    /******************************************************<br>     */<br><br>    /**<br>     * 该特性决定是否使用creator方法来根据公共构造函数以及名字为“valueOf”的静态单参数方法自动检测。<br>     */<br>    AUTO_DETECT_CREATORS(true),<br><br>    /**<br>     * 这个特性决定是否非静态字段被当做属性。如果true，则所有公共成员字段都被当做属性， 否则只有注解，才会被当做属性字段。<br>     */<br>    AUTO_DETECT_FIELDS(true),<br><br>    /**<br>     * 该特性决定是否使用“getter”方法来根据标准bean命名转换方式来自动检测。如果true，则所有公共的带有一个参数<br>     * 并且前缀为get的方法都将被当做getter方法。如果false，只会把显式注解的作为getter方法。<br>     */<br>    AUTO_DETECT_GETTERS(true),<br><br>    /**<br>     * 获取getter方法，前缀为is<br>     */<br>    AUTO_DETECT_IS_GETTERS(true),<br><br>    /**<br>     * 该特性决定是否使用“setter”方法来根据标准bean命名转换方式来自动检测。如果true，则所有公共的带有一个参数<br>     * 并且前缀为set的方法都将被当做setter方法。如果false，只会把显式注解的作为setter方法。<br>     */<br>    AUTO_DETECT_SETTERS(true),<br><br>    /**<br>     * 如果这个配置为false时，只有存在对应的构造器、setter或者field时，才调用getter<br>     */<br>    REQUIRE_SETTERS_FOR_GETTERS(false),<br><br>    /**<br>     * Feature that determines whether member fields declared as &#x27;final&#x27; may<br>     * be auto-detected to be used mutators (used to change value of the logical<br>     * property) or not. If enabled, &#x27;final&#x27; access modifier has no effect, and<br>     * such fields may be detected according to usual visibility and inference<br>     * rules; if disabled, such fields are NOT used as mutators except if<br>     * explicitly annotated for such use.<br>     * &lt;p&gt;<br>     * Feature is enabled by default, for backwards compatibility reasons.<br>     *<br>     * @since 2.2<br>     */<br>    ALLOW_FINAL_FIELDS_AS_MUTATORS(true),<br><br>    /**<br>     * Feature that determines whether member mutators (fields and<br>     * setters) may be &quot;pulled in&quot; even if they are not visible,<br>     * as long as there is a visible accessor (getter or field) with same name.<br>     * For example: field &quot;value&quot; may be inferred as mutator,<br>     * if there is visible or explicitly marked getter &quot;getValue()&quot;.<br>     * If enabled, inferring is enabled; otherwise (disabled) only visible and<br>     * explicitly annotated accessors are ever used.<br>     * &lt;p&gt;<br>     * Note that &#x27;getters&#x27; are never inferred and need to be either visible (including<br>     * bean-style naming) or explicitly annotated.<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     *<br>     * @since 2.2<br>     */<br>    INFER_PROPERTY_MUTATORS(true),<br><br>    /**<br>     * Feature that determines handling of &lt;code&gt;java.beans.ConstructorProperties&lt;code&gt;<br>     * annotation: when enabled, it is considered as alias of<br>     * &#123;@link com.fasterxml.jackson.annotation.JsonCreator&#125;, to mean that constructor<br>     * should be considered a property-based Creator; when disabled, only constructor<br>     * parameter name information is used, but constructor is NOT considered an explicit<br>     * Creator (although may be discovered as one using other annotations or heuristics).<br>     * &lt;p&gt;<br>     * Feature is mostly used to help interoperability with frameworks like Lombok<br>     * that may automatically generate &lt;code&gt;ConstructorProperties&lt;/code&gt; annotation<br>     * but without necessarily meaning that constructor should be used as Creator<br>     * for deserialization.<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     *<br>     * @since 2.9<br>     */<br>    INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES(true),<br><br>    /*<br>    /******************************************************<br>    /* Access modifier handling<br>    /******************************************************<br>     */<br><br>    /**<br>     * Feature that determines whether method and field access<br>     * modifier settings can be overridden when accessing<br>     * properties. If enabled, method<br>     * &#123;@link java.lang.reflect.AccessibleObject#setAccessible&#125;<br>     * may be called to enable access to otherwise unaccessible objects.<br>     * &lt;p&gt;<br>     * Note that this setting may have significant performance implications,<br>     * since access override helps remove costly access checks on each<br>     * and every Reflection access. If you are considering disabling<br>     * this feature, be sure to verify performance consequences if usage<br>     * is performance sensitive.<br>     * Also note that performance effects vary between Java platforms<br>     * (JavaSE vs Android, for example), as well as JDK versions: older<br>     * versions seemed to have more significant performance difference.<br>     * &lt;p&gt;<br>     * Conversely, on some platforms, it may be necessary to disable this feature<br>     * as platform does not allow such calls. For example, when developing<br>     * Applets (or other Java code that runs on tightly restricted sandbox),<br>     * it may be necessary to disable the feature regardless of performance effects.<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     */<br>    CAN_OVERRIDE_ACCESS_MODIFIERS(true),<br><br>    /**<br>     * Feature that determines that forces call to<br>     * &#123;@link java.lang.reflect.AccessibleObject#setAccessible&#125; even for<br>     * &lt;code&gt;public&lt;/code&gt; accessors -- that is, even if no such call is<br>     * needed from functionality perspective -- if call is allowed<br>     * (that is, &#123;@link #CAN_OVERRIDE_ACCESS_MODIFIERS&#125; is set to true).<br>     * The main reason to enable this feature is possible performance<br>     * improvement as JDK does not have to perform access checks; these<br>     * checks are otherwise made for all accessors, including public ones,<br>     * and may result in slower Reflection calls. Exact impact (if any)<br>     * depends on Java platform (Java SE, Android) as well as JDK version.<br>     * &lt;p&gt;<br>     * Feature is enabled by default, for legacy reasons (it was the behavior<br>     * until 2.6)<br>     *<br>     * @since 2.7<br>     */<br>    OVERRIDE_PUBLIC_ACCESS_MODIFIERS(true),<br><br>    /*<br>    /******************************************************<br>    /* Type-handling features<br>    /******************************************************<br>     */<br><br>    /**<br>     * 是否使用运行时动态类型，还是声明的静态类型<br>     */<br>    USE_STATIC_TYPING(false),<br><br>    /*<br>    /******************************************************<br>    /* View-related features<br>    /******************************************************<br>     */<br><br>    /**<br>     * 该特性决定拥有view注解的属性是否在JSON序列化视图中。如果true，则非注解视图，也包含；<br>     * 否则，它们将会被排除在外。<br>     */<br>    DEFAULT_VIEW_INCLUSION(true),<br><br>    /*<br>    /******************************************************<br>    /* Generic output features<br>    /******************************************************<br>     */<br><br>    /**<br>     * 是否对属性使用排序，默认排序按照字母顺序<br>     */<br>    SORT_PROPERTIES_ALPHABETICALLY(false),<br><br>    /*<br>    /******************************************************<br>    /* Name-related features<br>    /******************************************************<br>     */<br><br>    /**<br>     * 反序列化是否忽略大小写<br>     */<br>    ACCEPT_CASE_INSENSITIVE_PROPERTIES(false),<br><br><br>    /**<br>     * Feature that determines if Enum deserialization should be case sensitive or not.<br>     * If enabled, Enum deserialization will ignore case, that is, case of incoming String<br>     * value and enum id (dependant on other settings, either `name()`, `toString()`, or<br>     * explicit override) do not need to match.<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     *<br>     * @since 2.9<br>     */<br>    ACCEPT_CASE_INSENSITIVE_ENUMS(false),<br><br>    /**<br>     * Feature that can be enabled to make property names be<br>     * overridden by wrapper name (usually detected with annotations<br>     * as defined by &#123;@link AnnotationIntrospector#findWrapperName&#125;.<br>     * If enabled, all properties that have associated non-empty Wrapper<br>     * name will use that wrapper name instead of property name.<br>     * If disabled, wrapper name is only used for wrapping (if anything).<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     *<br>     * @since 2.1<br>     */<br>    USE_WRAPPER_NAME_AS_PROPERTY_NAME(false),<br><br>    /**<br>     * Feature that may be enabled to enforce strict compatibility with<br>     * Bean name introspection, instead of slightly different mechanism<br>     * Jackson defaults to.<br>     * Specific difference is that Jackson always lower cases leading upper-case<br>     * letters, so &quot;getURL()&quot; becomes &quot;url&quot; property; whereas standard Bean<br>     * naming &lt;b&gt;only&lt;/b&gt; lower-cases the first letter if it is NOT followed by<br>     * another upper-case letter (so &quot;getURL()&quot; would result in &quot;URL&quot; property).<br>     * &lt;p&gt;<br>     * Feature is disabled by default for backwards compatibility purposes: earlier<br>     * Jackson versions used Jackson&#x27;s own mechanism.<br>     *<br>     * @since 2.5<br>     */<br>    USE_STD_BEAN_NAMING(false),<br><br>    /**<br>     * Feature that when enabled will allow explicitly named properties (i.e., fields or methods<br>     * annotated with &#123;@link com.fasterxml.jackson.annotation.JsonProperty&#125;(&quot;explicitName&quot;)) to<br>     * be re-named by a &#123;@link PropertyNamingStrategy&#125;, if one is configured.<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     *<br>     * @since 2.7<br>     */<br>    ALLOW_EXPLICIT_PROPERTY_RENAMING(false),<br><br>    /*<br>    /******************************************************<br>    /* Coercion features<br>    /******************************************************<br>     */<br><br>    /**<br>     * Feature that determines whether coercions from secondary representations are allowed<br>     * for simple non-textual scalar types: numbers and booleans. This includes `primitive`<br>     * types and their wrappers, but excludes `java.lang.String` and date/time types.<br>     * &lt;p&gt;<br>     * When feature is disabled, only strictly compatible input may be bound: numbers for<br>     * numbers, boolean values for booleans. When feature is enabled, conversions from<br>     * JSON String are allowed, as long as textual value matches (for example, String<br>     * &quot;true&quot; is allowed as equivalent of JSON boolean token `true`; or String &quot;1.0&quot;<br>     * for `double`).<br>     * &lt;p&gt;<br>     * Note that it is possible that other configurability options can override this<br>     * in closer scope (like on per-type or per-property basis); this is just the global<br>     * default.<br>     * &lt;p&gt;<br>     * Feature is enabled by default (for backwards compatibility since this was the<br>     * default behavior)<br>     *<br>     * @since 2.9<br>     */<br>    ALLOW_COERCION_OF_SCALARS(true),<br><br>    /*<br>    /******************************************************<br>    /* Other features<br>    /******************************************************<br>     */<br><br>    /**<br>     * Feature that determines whether multiple registrations of same module<br>     * should be ignored or not; if enabled, only the first registration call<br>     * results in module being called, and possible duplicate calls are silently<br>     * ignored; if disabled, no checking is done and all registration calls are<br>     * dispatched to module.<br>     * &lt;p&gt;<br>     * Definition of &quot;same module&quot; is based on using &#123;@link Module#getTypeId()&#125;;<br>     * modules with same non-null &lt;code&gt;type id&lt;/code&gt; are considered same for<br>     * purposes of duplicate registration. This also avoids having to keep track<br>     * of actual module instances; only ids will be kept track of (and only if<br>     * this feature is enabled).<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     *<br>     * @since 2.5<br>     */<br>    IGNORE_DUPLICATE_MODULE_REGISTRATIONS(true),<br><br>    /**<br>     * Setting that determines what happens if an attempt is made to explicitly<br>     * &quot;merge&quot; value of a property, where value does not support merging; either<br>     * merging is skipped and new value is created (&lt;code&gt;true&lt;/code&gt;) or<br>     * an exception is thrown (false).<br>     * &lt;p&gt;<br>     * Feature is disabled by default since non-mergeable property types are ignored<br>     * even if defaults call for merging, and usually explicit per-type or per-property<br>     * settings for such types should result in an exception.<br>     *<br>     * @since 2.9<br>     */<br>    IGNORE_MERGE_FOR_UNMERGEABLE(true);<br><br>    private final boolean _defaultState;<br>    private final int _mask;<br><br>    private MapperFeature(boolean defaultState) &#123;<br>        _defaultState = defaultState;<br>        _mask = (1 &lt;&lt; ordinal());<br>    &#125;<br><br>    @Override<br>    public boolean enabledByDefault() &#123;<br>        return _defaultState;<br>    &#125;<br><br>    @Override<br>    public int getMask() &#123;<br>        return _mask;<br>    &#125;<br><br>    @Override<br>    public boolean enabledIn(int flags) &#123;<br>        return (flags &amp; _mask) != 0;<br>    &#125;<br>&#125;<br>123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358<br></code></pre></td></tr></table></figure>
<p><strong>JsonParser.Feature（解析器特性）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">public enum JsonParser &#123;<br>    /**<br>     * 自动关闭源：默认true_启用（即：解析json字符串后，自动关闭输入流）<br>     * 该特性，决定了解析器是否可以自动关闭非自身的底层输入源<br>     * 1.禁用：应用程序将分开关闭底层的&#123;@link InputStream&#125; and &#123;@link Reader&#125;<br>     * 2.启用：解析器将关闭上述对象，其自身也关闭，此时input终止且调用<br>     */<br>    AUTO_CLOSE_SOURCE(true),<br><br><br>    /**<br>     * 默认false：不解析含有注释符（即：true时解析含有注释的json字符串）<br>     * 该特性，决定了解析器是否可以解析含有Java/C++注释样式(如：/*或//的注释符)<br>     * 注意：标准的json字符串格式没有含有注释符（非标准），然而则经常使用<br>     */<br>    ALLOW_COMMENTS(false),<br><br>    /**<br>     * 默认false：不解析含有另外注释符<br>     * 该特性，决定了解析器是否可以解析含有以&quot;#&quot;开头并直到一行结束的注释样式（这样的注释风格通常也用在脚本语言中）<br>     * 注意：标准的json字符串格式没有含有注释符（非标准），然而则经常使用<br>     */<br>    ALLOW_YAML_COMMENTS(false),<br><br>    /**<br>     * * 默认false：不解析含有结束语的字符<br>     * 该特性，决定了解析器是否可以解析该字符（结束语字段符，一般在js中出现）<br>     * 注意：标准的json字符串格式没有含有注释符（非标准），然而则经常使用<br>     */<br>    ALLOW_UNQUOTED_FIELD_NAMES(false),<br><br>    /**<br>     * 默认false：不解析含有单引号的字符串或字符<br>     * 该特性，决定了解析器是否可以解析单引号的字符串或字符(如：单引号的字符串，单引号&#x27;\&#x27;&#x27;)<br>     * 注意：可作为其他可接受的标记，但不是JSON的规范<br>     */<br>    ALLOW_SINGLE_QUOTES(false),<br><br>    /**<br>     * 允许：默认false_不解析含有结束语控制字符<br>     * 该特性，决定了解析器是否可以解析结束语控制字符(如：ASCII&lt;32，如包含tab或换行符)<br>     * 注意：设置false（默认）时，若解析则抛出异常;若true时，则用引号即可转义<br>     */<br>    ALLOW_UNQUOTED_CONTROL_CHARS(false),<br><br>    /**<br>     * 可解析反斜杠引用的所有字符，默认：false，不可解析<br>     */<br>    ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER(false),<br><br>    /**<br>     * 可解析以&quot;0&quot;为开头的数字(如: 000001)，解析时则忽略0，默认：false，不可解析，若有则抛出异常<br>     */<br>    ALLOW_NUMERIC_LEADING_ZEROS(false),<br><br>    /**<br>     * 可解析非数值的数值格式（如：正无穷大，负无穷大，除以0等其他类似数据格式和xml的标签等）<br>     * 默认：false，不能解析<br>     */<br>    ALLOW_NON_NUMERIC_NUMBERS(false),<br><br>    /**<br>     * 默认：false，JSON数组中不解析漏掉的值，若有，则会抛出异常&#123;@link JsonToken#VALUE_NULL&#125;<br>     * true时，可解析[&quot;value1&quot;,,&quot;value3&quot;,]最终为[&quot;value1&quot;, null, &quot;value3&quot;, null]空值作为null<br>     */<br>    ALLOW_MISSING_VALUES(false),<br><br>    /**<br>     * 默认：false，JSON数组中是否解析带逗号的数据<br>     * true时，解析json&#123;&quot;a&quot;: true,&#125;等价于&#123;&quot;a&quot;: true&#125;<br>     */<br>    ALLOW_TRAILING_COMMA(false),<br><br>    /**<br>     * 默认：false，不检测JSON对象重复的字段名，即：相同字段名都要解析<br>     * true时，检测是否有重复字段名，若有，则抛出异常&#123;@link JsonParseException&#125;<br>     * 注意：检查时，解析性能下降，时间超过一般情况的20-30%<br>     */<br>    STRICT_DUPLICATE_DETECTION(false),<br><br>    /**<br>     * 默认：false，底层的数据流(二进制数据持久化，如：图片，视频等)全部被output，若读取一个位置的字段，则抛出异常<br>     * true时，则忽略未定义<br>     */<br>    IGNORE_UNDEFINED(false),<br><br>    // // // Other<br><br>    /**<br>     * Feature that determines whether &#123;@link JsonLocation&#125; instances should be constructed<br>     * with reference to source or not. If source reference is included, its type and contents<br>     * are included when `toString()` method is called (most notably when printing out parse<br>     * exception with that location information). If feature is disabled, no source reference<br>     * is passed and source is only indicated as &quot;UNKNOWN&quot;.<br>     * &lt;p&gt;<br>     * Most common reason for disabling this feature is to avoid leaking information about<br>     * internal information; this may be done for security reasons.<br>     * Note that even if source reference is included, only parts of contents are usually<br>     * printed, and not the whole contents. Further, many source reference types can not<br>     * necessarily access contents (like streams), so only type is indicated, not contents.<br>     * &lt;p&gt;<br>     * Feature is enabled by default, meaning that &quot;source reference&quot; information is passed<br>     * and some or all of the source content may be included in &#123;@link JsonLocation&#125; information<br>     * constructed either when requested explicitly, or when needed for an exception.<br>     *<br>     * @since 2.9<br>     */<br>    INCLUDE_SOURCE_IN_LOCATION(true),;<br><br>    /**<br>     * Whether feature is enabled or disabled by default.<br>     */<br>    private final boolean _defaultState;<br><br>    private final int _mask;<br><br>    /**<br>     * Method that calculates bit set (flags) of all features that<br>     * are enabled by default.<br>     */<br>    public static int collectDefaults() &#123;<br>        int flags = 0;<br>        for (Feature f : values()) &#123;<br>            if (f.enabledByDefault()) &#123;<br>                flags |= f.getMask();<br>            &#125;<br>        &#125;<br>        return flags;<br>    &#125;<br><br>    private Feature(boolean defaultState) &#123;<br>        _mask = (1 &lt;&lt; ordinal());<br>        _defaultState = defaultState;<br>    &#125;<br><br>    public boolean enabledByDefault() &#123;<br>        return _defaultState;<br>    &#125;<br><br>    /**<br>     * @since 2.3<br>     */<br>    public boolean enabledIn(int flags) &#123;<br>        return (flags &amp; _mask) != 0;<br>    &#125;<br><br>    public int getMask() &#123;<br>        return _mask;<br>    &#125;<br>&#125;<br>123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150<br></code></pre></td></tr></table></figure>
<p><strong>JsonGenerator</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">public enum JsonGenerator &#123;<br>    // // Low-level I/O / content features<br><br>    /**<br>     * Feature that determines whether generator will automatically<br>     * close underlying output target that is NOT owned by the<br>     * generator.<br>     * If disabled, calling application has to separately<br>     * close the underlying &#123;@link OutputStream&#125; and &#123;@link Writer&#125;<br>     * instances used to create the generator. If enabled, generator<br>     * will handle closing, as long as generator itself gets closed:<br>     * this happens when end-of-input is encountered, or generator<br>     * is closed by a call to &#123;@link com.fasterxml.jackson.core.JsonGenerator#close&#125;.<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     */<br>    AUTO_CLOSE_TARGET(true),<br><br>    /**<br>     * Feature that determines what happens when the generator is<br>     * closed while there are still unmatched<br>     * &#123;@link JsonToken#START_ARRAY&#125; or &#123;@link JsonToken#START_OBJECT&#125;<br>     * entries in output content. If enabled, such Array(s) and/or<br>     * Object(s) are automatically closed; if disabled, nothing<br>     * specific is done.<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     */<br>    AUTO_CLOSE_JSON_CONTENT(true),<br><br>    /**<br>     * Feature that specifies that calls to &#123;@link #flush&#125; will cause<br>     * matching &lt;code&gt;flush()&lt;/code&gt; to underlying &#123;@link OutputStream&#125;<br>     * or &#123;@link Writer&#125;; if disabled this will not be done.<br>     * Main reason to disable this feature is to prevent flushing at<br>     * generator level, if it is not possible to prevent method being<br>     * called by other code (like &lt;code&gt;ObjectMapper&lt;/code&gt; or third<br>     * party libraries).<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     */<br>    FLUSH_PASSED_TO_STREAM(true),<br><br>    // // Quoting-related features<br><br>    /**<br>     * Feature that determines whether JSON Object field names are<br>     * quoted using double-quotes, as specified by JSON specification<br>     * or not. Ability to disable quoting was added to support use<br>     * cases where they are not usually expected, which most commonly<br>     * occurs when used straight from Javascript.<br>     * &lt;p&gt;<br>     * Feature is enabled by default (since it is required by JSON specification).<br>     */<br>    QUOTE_FIELD_NAMES(true),<br><br>    /**<br>     * Feature that determines whether &quot;exceptional&quot; (not real number)<br>     * float/double values are output as quoted strings.<br>     * The values checked are Double.Nan,<br>     * Double.POSITIVE_INFINITY and Double.NEGATIVE_INIFINTY (and<br>     * associated Float values).<br>     * If feature is disabled, these numbers are still output using<br>     * associated literal values, resulting in non-conformant<br>     * output.<br>     * &lt;p&gt;<br>     * Feature is enabled by default.<br>     */<br>    QUOTE_NON_NUMERIC_NUMBERS(true),<br><br>    /**<br>     * Feature that forces all Java numbers to be written as JSON strings.<br>     * Default state is &#x27;false&#x27;, meaning that Java numbers are to<br>     * be serialized using basic numeric serialization (as JSON<br>     * numbers, integral or floating point). If enabled, all such<br>     * numeric values are instead written out as JSON Strings.<br>     * &lt;p&gt;<br>     * One use case is to avoid problems with Javascript limitations:<br>     * since Javascript standard specifies that all number handling<br>     * should be done using 64-bit IEEE 754 floating point values,<br>     * result being that some 64-bit integer values can not be<br>     * accurately represent (as mantissa is only 51 bit wide).<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     */<br>    WRITE_NUMBERS_AS_STRINGS(false),<br><br>    /**<br>     * Feature that determines whether &#123;@link java.math.BigDecimal&#125; entries are<br>     * serialized using &#123;@link java.math.BigDecimal#toPlainString()&#125; to prevent<br>     * values to be written using scientific notation.<br>     * &lt;p&gt;<br>     * Feature is disabled by default, so default output mode is used; this generally<br>     * depends on how &#123;@link BigDecimal&#125; has been created.<br>     *<br>     * @since 2.3<br>     */<br>    WRITE_BIGDECIMAL_AS_PLAIN(false),<br><br>    /**<br>     * Feature that specifies that all characters beyond 7-bit ASCII<br>     * range (i.e. code points of 128 and above) need to be output<br>     * using format-specific escapes (for JSON, backslash escapes),<br>     * if format uses escaping mechanisms (which is generally true<br>     * for textual formats but not for binary formats).<br>     * &lt;p&gt;<br>     * Note that this setting may not necessarily make sense for all<br>     * data formats (for example, binary formats typically do not use<br>     * any escaping mechanisms; and some textual formats do not have<br>     * general-purpose escaping); if so, settings is simply ignored.<br>     * Put another way, effects of this feature are data-format specific.<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     */<br>    ESCAPE_NON_ASCII(false),<br><br>// 23-Nov-2015, tatu: for [core#223], if and when it gets implemented<br>    /**<br>     * Feature that specifies handling of UTF-8 content that contains<br>     * characters beyond BMP (Basic Multilingual Plane), which are<br>     * represented in UCS-2 (Java internal character encoding) as two<br>     * &quot;surrogate&quot; characters. If feature is enabled, these surrogate<br>     * pairs are separately escaped using backslash escapes; if disabled,<br>     * native output (4-byte UTF-8 sequence, or, with char-backed output<br>     * targets, writing of surrogates as is which is typically converted<br>     * by &#123;@link java.io.Writer&#125; into 4-byte UTF-8 sequence eventually)<br>     * is used.<br>     *&lt;p&gt;<br>     * Note that the original JSON specification suggests use of escaping;<br>     * but that this is not correct from standard UTF-8 handling perspective.<br>     * Because of two competing goals, this feature was added to allow either<br>     * behavior to be used, but defaulting to UTF-8 specification compliant<br>     * mode.<br>     *&lt;p&gt;<br>     * Feature is disabled by default.<br>     *<br>     * @since Xxx<br>     */<br>//        ESCAPE_UTF8_SURROGATES(false),<br><br>    // // Schema/Validity support features<br><br>    /**<br>     * Feature that determines whether &#123;@link com.fasterxml.jackson.core.JsonGenerator&#125; will explicitly<br>     * check that no duplicate JSON Object field names are written.<br>     * If enabled, generator will check all names within context and report<br>     * duplicates by throwing a &#123;@link JsonGenerationException&#125;; if disabled,<br>     * no such checking will be done. Assumption in latter case is<br>     * that caller takes care of not trying to write duplicate names.<br>     * &lt;p&gt;<br>     * Note that enabling this feature will incur performance overhead<br>     * due to having to store and check additional information.<br>     * &lt;p&gt;<br>     * Feature is disabled by default.<br>     *<br>     * @since 2.3<br>     */<br>    STRICT_DUPLICATE_DETECTION(false),<br><br>    /**<br>     * Feature that determines what to do if the underlying data format requires knowledge<br>     * of all properties to output, and if no definition is found for a property that<br>     * caller tries to write. If enabled, such properties will be quietly ignored;<br>     * if disabled, a &#123;@link JsonProcessingException&#125; will be thrown to indicate the<br>     * problem.<br>     * Typically most textual data formats do NOT require schema information (although<br>     * some do, such as CSV), whereas many binary data formats do require definitions<br>     * (such as Avro, protobuf), although not all (Smile, CBOR, BSON and MessagePack do not).<br>     * &lt;p&gt;<br>     * Note that support for this feature is implemented by individual data format<br>     * module, if (and only if) it makes sense for the format in question. For JSON,<br>     * for example, this feature has no effect as properties need not be pre-defined.<br>     * &lt;p&gt;<br>     * Feature is disabled by default, meaning that if the underlying data format<br>     * requires knowledge of all properties to output, attempts to write an unknown<br>     * property will result in a &#123;@link JsonProcessingException&#125;<br>     *<br>     * @since 2.5<br>     */<br>    IGNORE_UNKNOWN(false),;<br><br>    private final boolean _defaultState;<br>    private final int _mask;<br><br>    /**<br>     * Method that calculates bit set (flags) of all features that<br>     * are enabled by default.<br>     */<br>    public static int collectDefaults() &#123;<br>        int flags = 0;<br>        for (com.fasterxml.jackson.core.JsonGenerator.Feature f : values()) &#123;<br>            if (f.enabledByDefault()) &#123;<br>                flags |= f.getMask();<br>            &#125;<br>        &#125;<br>        return flags;<br>    &#125;<br><br>    private Feature(boolean defaultState) &#123;<br>        _defaultState = defaultState;<br>        _mask = (1 &lt;&lt; ordinal());<br>    &#125;<br><br>    public boolean enabledByDefault() &#123;<br>        return _defaultState;<br>    &#125;<br><br>    /**<br>     * @since 2.3<br>     */<br>    public boolean enabledIn(int flags) &#123;<br>        return (flags &amp; _mask) != 0;<br>    &#125;<br><br>    public int getMask() &#123;<br>        return _mask;<br>    &#125;<br>&#125;<br>123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218<br></code></pre></td></tr></table></figure>
<p><strong>JsonFactory</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">public enum JsonFactory &#123;<br>    /**<br>     * 1、如果canonicalization被启用，这个特性决定了是否被解码的字符串是否会使用String.intern（）——这个在很多时候可以提高反序列化的性能。 这样做可以进一步提高反序列化的性能，因为可以使用标识比较。<br>     * 2、如果字符串不会重复，或者不同的字符串数量太多（成千上万），那可能要考虑关闭这个选项，不然会占用太多的内存。<br>     */<br>    INTERN_FIELD_NAMES(true),<br><br>    /**<br>     * 意思是一旦名字字符串从输入（字节或字符流）被解码，它将被添加到一个符号表中，以减少在下次看到同一名字时被解码的开销（由同一工厂构造的任何解析器）<br>     */<br>    CANONICALIZE_FIELD_NAMES(true),<br><br>    /**<br>     * 由于规范化使用基于散列的方法将字节/字符序列解析为名称，所以理论上可以构造具有非常高的冲突率的名称集合。<br>     * 如果是这样，哈希查找的性能可能会严重降低。 为了防止这种可能性，符号表使用启发式来基于异常高的碰撞次数来检测可能的攻击。<br>     */<br>    FAIL_ON_SYMBOL_HASH_OVERFLOW(true),<br><br>    /**<br>     * 由于分配char []和byte []缓冲区用于内容读取/写入具有显着的影响，尤其是在处理相对较小的文档时，<br>     * 默认情况下JsonFactory使用SoftReference的ThreadLocal来引用BufferRecycler：这允许在多个读取/写操作。<br>     * 一般情况下这个选项打开对性能是有帮助的，但是在Android平台上，SoftReferences的处理是次要的，导致回收没有帮助，甚至可能只是增加了一些开销，所以可以考虑关闭。但是在关闭前请保证(a)你知道你在干什么，(b)获得可测量的性能提升。<br>     */<br>    USE_THREAD_LOCAL_FOR_BUFFER_RECYCLING(true);<br><br>    /**<br>     * Whether feature is enabled or disabled by default.<br>     */<br>    private final boolean _defaultState;<br><br>    /**<br>     * Method that calculates bit set (flags) of all features that<br>     * are enabled by default.<br>     */<br>    public static int collectDefaults() &#123;<br>        int flags = 0;<br>        for (com.fasterxml.jackson.core.JsonFactory.Feature f : values()) &#123;<br>            if (f.enabledByDefault()) &#123;<br>                flags |= f.getMask();<br>            &#125;<br>        &#125;<br>        return flags;<br>    &#125;<br><br>    private Feature(boolean defaultState) &#123;<br>        _defaultState = defaultState;<br>    &#125;<br><br>    public boolean enabledByDefault() &#123;<br>        return _defaultState;<br>    &#125;<br><br>    public boolean enabledIn(int flags) &#123;<br>        return (flags &amp; getMask()) != 0;<br>    &#125;<br><br>    public int getMask() &#123;<br>        return (1 &lt;&lt; ordinal());<br>    &#125;<br>&#125;<br>123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960<br></code></pre></td></tr></table></figure>
<h2 id="xml实体互转"><a class="markdownIt-Anchor" href="#xml实体互转"></a> xml实体互转</h2>
<p>引入依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&lt;dependency&gt;<br>    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;<br>    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;<br>    &lt;version&gt;2.9.5&lt;/version&gt;<br>&lt;/dependency&gt;<br>12345<br></code></pre></td></tr></table></figure>
<p>使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">/*<br> * Java对象转xml<br> */<br>@Test<br>public void testGenXml()&#123;<br>    XmlMapper xmlMapper = new XmlMapper();<br><br>    Book book = new Book(&quot;Think in Java&quot;,100);<br>    try &#123;<br>        String xmlStr =  xmlMapper.writeValueAsString(book);<br>        System.out.println(xmlStr);<br>    &#125; catch (JsonProcessingException e) &#123; <br>        e.printStackTrace();<br>    &#125;<br>&#125;<br><br>/*<br> * xml转Java对象<br> */<br>@Test<br>public void testGenObjByXml()&#123;<br>    XmlMapper xmlMapper = new XmlMapper();<br>    String xmlStr = &quot;&lt;Book&gt;&lt;name&gt;Think in Java&lt;/name&gt;&lt;price&gt;100&lt;/price&gt;&lt;/Book&gt;&quot;; <br>    try &#123;<br>        Book book = xmlMapper.readValue(xmlStr, Book.class);<br>        System.out.println(book);<br>    &#125; catch (IOException e) &#123;<br>        // TODO Auto-generated catch block<br>        e.printStackTrace();<br>    &#125;<br>&#125;<br>12345678910111213141516171819202122232425262728293031<br></code></pre></td></tr></table></figure>
<p>参考网站</p>
<p><a target="_blank" rel="noopener" href="https://github.com/FasterXML/jackson-docs">https://github.com/FasterXML/jackson-docs</a></p>
<p><a target="_blank" rel="noopener" href="http://www.baeldung.com/jackson">http://www.baeldung.com/jackson</a></p>
<p><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/java/jackson-advanced-application/index.html">https://www.ibm.com/developerworks/cn/java/jackson-advanced-application/index.html</a></p>
<p><a target="_blank" rel="noopener" href="http://tutorials.jenkov.com/java-json/boon-objectmapper.html">http://tutorials.jenkov.com/java-json/boon-objectmapper.html</a></p>

    </div>
</article>


                </div>
                <aside class="col-md-4 gal-left" id="sidebar">
    <!-- 此为sidebar的搜索框, 非搜索结果页面 -->
<aside id="sidebar-search">
    <div class="search" data-aos="fade-up" data-aos-duration="2000">
        <form class="form-inline clearfix" id="search-form" method="get"
              action="/search/index.html">
            <input type="text" name="s" class="form-control" id="searchInput" placeholder="搜索文章~" autocomplete="off">
            <button class="btn btn-danger btn-gal" type="submit">
                <i class="fa fa-search"></i>
            </button>
        </form>
    </div>
</aside>
    <aside id="sidebar-author">
    <div class="panel panel-gal" data-aos="flip-right" data-aos-duration="3000">
        <div class="panel-heading" style="text-align: center">
            <i class="fa fa-quote-left"></i>
            阿超
            <i class="fa fa-quote-right"></i>
        </div>
        <div class="author-panel text-center">
            <div class="author-avatar">
            <img src="/imgs/head.png"
                             alt="个人头像" class="author-image">
            </div>
            <p class="author-description"><p>​ 我的名字叫阿超 年龄23岁 家在四川省成都市 未婚 职业是软件开发 每天最晚也会在八点前回家 不抽烟 酒浅尝辄止 晚上十二点上床 保证睡足八个小时 睡前写一篇博客 再做二十分钟俯卧撑暖身 然后再睡觉 基本能熟睡到天亮 像婴儿一样不留下任何疲劳和压力 就这样迎来第二天的早晨 健康检查结果也显示我很正常 我想说明我是一个不论何时都追求内心平稳的人 不拘泥于胜负 不纠结于烦恼 不树立使我夜不能寐的敌人 这就是我在这社会的生活态度</p>
</p>
        </div>
    </div>
</aside>

    
    <aside id="sidebar-recent_comments">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-comments"></i>
            最新评论
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush"></ul>
    </div>
</aside>
    
    <!-- 要配置好leancloud才能开启此小工具 -->
    
    
    <aside id="sidebar-recent_posts">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-refresh"></i>
            近期文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush">
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/29/apache-shenyu%E5%A4%84%E7%90%86discoveryType%E9%97%AE%E9%A2%98/">apache-shenyu处理discoveryType问题</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/28/dyad/">dyad</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/27/paperless-ngx/">paperless-ngx</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/26/ladybird/">ladybird</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/25/yaak/">yaak</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/24/blind-watermark/">blind_watermark</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/23/media-downloader/">media-downloader</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/22/LaTeX-OCR/">LaTeX-OCR</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/21/immich/">immich</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/10/20/symfony/">symfony</a>
                </span>
            </li>
            
        </ul>
    </div>
</aside>
    
    
    <aside id="sidebar-rand_posts">
    <div class="panel panel-gal recent" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-refresh"></i>
            随机文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush">
            
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/05/20/Minecraft%E9%A2%9C%E8%89%B2%E9%80%89%E6%8B%A9%E8%BD%AC%E6%8D%A2/">Minecraft颜色选择转换</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/02/16/animejs/">animejs</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/03/23/gemini1-5pro/">gemini1.5pro</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2021/09/12/js-window-open/">js window.open</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/04/14/mac%E4%B8%8B%E8%A7%A3%E5%8E%8Bjar%E5%8C%85/">mac下解压jar包</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2022/03/14/pip%E6%8A%A5%E9%94%99is-not-a-trusted/">pip报错is not a trusted</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2023/11/21/rabbitmq%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E9%98%9F%E5%88%97/">rabbitmq动态创建队列</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2020/07/22/sql%E6%97%B6%E9%97%B4N%E5%A4%A9%E5%89%8D%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/">sql时间N天前数据查询</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2025/09/25/%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%80%E6%AE%B5%E5%AF%86%E6%96%87%E7%94%A8%E4%BA%86%E4%BB%80%E4%B9%88%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%EF%BC%9F%E5%AE%9E%E7%94%A8%E5%88%86%E6%9E%90%E4%B8%8E%E6%80%9D%E8%B7%AF%E5%88%86%E4%BA%AB/">如何判断一段密文用了什么加密算法？实用分析与思路分享</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2022/03/26/%E6%9E%9A%E4%B8%BE%E5%B7%A5%E5%85%B7%E7%B1%BB/">枚举工具类</a>
                </span>
            </li>
            
        </ul>
    </div>
</aside>
    
    
    <aside id="gal-sets">
        <div class="panel panel-gal" data-aos="fade-up" data-aos-duration="2000">
            <ul class="nav nav-pills pills-gal">

                
                <li>
                    <a href="/2020/12/11/jackson%E5%A4%84%E7%90%86json/index.html#sidebar-tags" data-toggle="tab" id="tags-tab">热门标签</a>
                </li>
                
                
                <li>
                    <a href="/2020/12/11/jackson%E5%A4%84%E7%90%86json/index.html#sidebar-friend-links" data-toggle="tab" id="friend-links-tab">友情链接</a>
                </li>
                
                
                <li>
                    <a href="/2020/12/11/jackson%E5%A4%84%E7%90%86json/index.html#sidebar-links" data-toggle="tab" id="links-tab">个人链接</a>
                </li>
                
            </ul>
            <div class="tab-content">
                
                <div class="cloud-tags tab-pane nav bs-sidenav fade" id="sidebar-tags">
    
    <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E6%8F%92%E4%BB%B6/" style="font-size: 11.68719463742677px;" class="tag-cloud-link">软件及插件</a>
    
    <a href="/tags/java/" style="font-size: 9.235772652868043px;" class="tag-cloud-link">java</a>
    
    <a href="/tags/ai/" style="font-size: 10.033753154372988px;" class="tag-cloud-link">ai</a>
    
    <a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size: 19.655895882795384px;" class="tag-cloud-link">小技巧</a>
    
    <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 16.002921306207234px;" class="tag-cloud-link">前端</a>
    
    <a href="/tags/android/" style="font-size: 16.858659648877243px;" class="tag-cloud-link">android</a>
    
    <a href="/tags/python/" style="font-size: 19.970817438227463px;" class="tag-cloud-link">python</a>
    
    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 16.50607580830178px;" class="tag-cloud-link">数据库</a>
    
    <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 10.363817888216708px;" class="tag-cloud-link">运维</a>
    
    <a href="/tags/go/" style="font-size: 10.71481859094364px;" class="tag-cloud-link">go</a>
    
    <a href="/tags/ios/" style="font-size: 11.195537058687378px;" class="tag-cloud-link">ios</a>
    
    <a href="/tags/c/" style="font-size: 11.063540797324443px;" class="tag-cloud-link">c++</a>
    
    <a href="/tags/flutter/" style="font-size: 13.548089194120564px;" class="tag-cloud-link">flutter</a>
    
    <a href="/tags/Java/" style="font-size: 12.92811970861553px;" class="tag-cloud-link">Java</a>
    
    <a href="/tags/ruby/" style="font-size: 11.976129954690414px;" class="tag-cloud-link">ruby</a>
    
    <a href="/tags/c/" style="font-size: 13.534999794658317px;" class="tag-cloud-link">c</a>
    
    <a href="/tags/Clojure/" style="font-size: 12.679968720657879px;" class="tag-cloud-link">Clojure</a>
    
    <a href="/tags/bug/" style="font-size: 17.9547616333494px;" class="tag-cloud-link">bug</a>
    
    <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 17.9302349927727px;" class="tag-cloud-link">其他</a>
    
    <a href="/tags/kotlin/" style="font-size: 11.865683082182505px;" class="tag-cloud-link">kotlin</a>
    
    <a href="/tags/lua/" style="font-size: 11.511829558395151px;" class="tag-cloud-link">lua</a>
    
    <a href="/tags/swift/" style="font-size: 11.925542774425475px;" class="tag-cloud-link">swift</a>
    
    <a href="/tags/minecraft/" style="font-size: 11.93982215234426px;" class="tag-cloud-link">minecraft</a>
    
    <a href="/tags/rust/" style="font-size: 13.670476671066627px;" class="tag-cloud-link">rust</a>
    
    <a href="/tags/%E9%83%A8%E7%BD%B2/" style="font-size: 18.660853592328543px;" class="tag-cloud-link">部署</a>
    
    <a href="/tags/flink/" style="font-size: 11.84807413168798px;" class="tag-cloud-link">flink</a>
    
    <a href="/tags/llvm/" style="font-size: 19.66506474635635px;" class="tag-cloud-link">llvm</a>
    
    <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 18.998057248588182px;" class="tag-cloud-link">机器学习</a>
    
    <a href="/tags/php/" style="font-size: 12.493055462575114px;" class="tag-cloud-link">php</a>
    
    <a href="/tags/typescript/" style="font-size: 17.19190268340632px;" class="tag-cloud-link">typescript</a>
    
    <a href="/tags/redis/" style="font-size: 12.821574671858137px;" class="tag-cloud-link">redis</a>
    
    <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 16.74322618687755px;" class="tag-cloud-link">设计模式</a>
    
    <a href="/tags/objective-c/" style="font-size: 17.015265144640175px;" class="tag-cloud-link">objective-c</a>
    
    <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 12.4101140169332px;" class="tag-cloud-link">算法</a>
    
</div>
                
                
                <div class="friend-links tab-pane nav bs-sidenav fade" id="sidebar-friend-links">
    
    <li>
        <a href="https://mofan212.gitee.io/" target="_blank">Mofan</a>
    </li>
    
    <li>
        <a href="http://www.wwang.net" target="_blank">派派河鉴黄师</a>
    </li>
    
    <li>
        <a href="https://shrimp_study.gitee.io/" target="_blank">加油</a>
    </li>
    
    <li>
        <a href="https://howling.gitee.io/" target="_blank">嚎羸</a>
    </li>
    
    <li>
        <a href="https://techyang99.gitee.io/" target="_blank">Techyang</a>
    </li>
    
    <li>
        <a href="https://mujeyf.cn" target="_blank">GeekDream</a>
    </li>
    
    <li>
        <a href="https://amadasy.gitee.io/" target="_blank">Amadasy</a>
    </li>
    
    <li>
        <a href="http://47.95.208.251:8081/niubi/dist/index.html#/blog" target="_blank">NIUBI</a>
    </li>
    
    <li>
        <a href="http://www.znbiscool.icu" target="_blank">宇智波问天</a>
    </li>
    
    <li>
        <a href="https://www.xsyyds.top" target="_blank">醉相生</a>
    </li>
    
    <li>
        <a href="http://60.205.188.140:8888/" target="_blank">那就孤雏</a>
    </li>
    
    <li>
        <a href="https://www.jauxgit.top" target="_blank">jaux署记</a>
    </li>
    
    <li>
        <a href="http://septzhang.link/" target="_blank">SeptZhangの小站</a>
    </li>
    
    <li>
        <a href="http://myblog.zhaixing.work/" target="_blank">星辰驿站</a>
    </li>
    
    <li>
        <a href="https://47.93.242.4:88" target="_blank">宇泽希</a>
    </li>
    
    <li>
        <a href="https://kwydy.gitee.io/" target="_blank">这个爱酱不太聪明</a>
    </li>
    
    <li>
        <a href="https://rivencabin.gitee.io/" target="_blank">Riven的小屋</a>
    </li>
    
    <li>
        <a href="https://rocpenghua.gitee.io/" target="_blank">小鹏驿站</a>
    </li>
    
    <li>
        <a href="https://budongfeng.gitee.io/weekly/" target="_blank">生活富能量</a>
    </li>
    
    <li>
        <a href="https://zygzyg.cloud/" target="_blank">Error&#39;s Blog</a>
    </li>
    
</div>
                
                
                <div class="links tab-pane nav bs-sidenav fade" id="sidebar-links">
    
    <li>
        <a href="https://gitee.com/vampireachao/" target="_blank">Gitee</a>
    </li>
    
</div>
                
            </div>
        </div>
    </aside>
    
</aside>
            </div>
        </div>
    </div>
    <footer id="gal-footer">
    <div class="container">
        Copyright © 2018 阿超 Powered by <a href="https://hexo.io/"
                target="_blank">Hexo</a>.&nbsp;Theme by <a href="https://github.com/ZEROKISEKI"
                target="_blank">AONOSORA</a>
    </div>
</footer>

<!-- 回到顶端 -->
<div id="gal-gotop">
    <i class="fa fa-angle-up"></i>
</div>
<style>
    #cursor-circle {
        pointer-events: none;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        border: 1px solid black;
        background: white;
        mix-blend-mode: exclusion;
        position: absolute;
        z-index: 99999
    }
</style>
<div id="cursor-circle"></div>
<div id="cursor-pointer"></div>
<script type="application/javascript">
    const cursorCircle = document.querySelector("#cursor-circle")
    window.addEventListener('mousemove', e => {
        cursorCircle.style.top = document.documentElement.scrollTop + e.clientY - 11 + 'px'
        cursorCircle.style.left = document.documentElement.scrollLeft + e.clientX - 11 + 'px'
    })
</script>
</body>

<script src="/js/activate-power-mode.js"></script>

<script>

    // 配置highslide
	hs.graphicsDir = '/js/highslide/graphics/'
    hs.outlineType = "rounded-white";
    hs.dimmingOpacity = 0.8;
    hs.outlineWhileAnimating = true;
    hs.showCredits = false;
    hs.captionEval = "this.thumb.alt";
    hs.numberPosition = "caption";
    hs.align = "center";
    hs.transitions = ["expand", "crossfade"];
    hs.lang.number = '共%2张图, 当前是第%1张';
    hs.addSlideshow({
      interval: 5000,
      repeat: true,
      useControls: true,
      fixedControls: "fit",
      overlayOptions: {
        opacity: 0.75,
        position: "bottom center",
        hideOnMouseOut: true
      }
    })

    // 初始化aos
    AOS.init({
      duration: 1000,
      delay: 0,
      easing: 'ease-out-back'
    });

</script>
<script>
	POWERMODE.colorful = 'true';    // make power mode colorful
	POWERMODE.shake = 'true';       // turn off shake
	// TODO 这里根据具体情况修改
	document.body.addEventListener('input', POWERMODE);
</script>
<script>
    window.slideConfig = {
      prefix: '/imgs/slide/background',
      ext: 'jpg',
      maxCount: '6'
    }
</script>

<script src="/js/hs.js"></script>
<script src="/js/blog.js"></script>




</html>